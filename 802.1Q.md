# 802.1Q
**802.1Q** is one of two trunking ptotocol, the other one is ISL (Cisco property).

## Frame of 802.1Q
The 802.1Q tage is insert into a 802.3/Ethernet frame between _source MAC address_ and _type/length_.
```
+------------+------------++++++++++++-----------+---------------------+----------+
|  Dest-MAC  |  Src-MAC   |  802.1q  |Type/Length|         DATA        | FCS(CRC) |
|   6 bytes  |   6 bytes  |  4 bytes |  2 bytes  |                     | 4 bytes  |  
+------------+------------++++++++++++-----------+---------------------+----------+ 
                                |
                                v
 0                 1                   2                   3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            TPID               |     |D|                       |
|   (Tag Protocol Identifier)   | PCP |E|       VID             |
|           0x8100              |     |I|    (Vlan ID 0-4096)   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```
 > `PCP`, `DEI`, and `VID` are together called **TCI** (Tag Control Information).  

Names   | Bits    | Functions |
--------|---------|-----------|
**TPID**| 16 bits | Always 0x8100 indicates the frame is 802.1Q-taged |
**PCP** | 3 bits  | Priority Code Point - QoS |
**DEI** | 1 bit   | Droping or not when network congested |
**VID** | 12 bits | Vlan ID of the destination. Value 0-4096/1-4094 |
